{% extends 'admin_layout.html' %}
{% block body %}

<script src=
"https://ajax.googleapis.com/ajax/libs/jquery/1.9.1/jquery.min.js">
        </script>

<header class="masthead" style="background-image: url('static/assets/img/home-bg.jpg')">
    <div class="container position-relative px-4 px-lg-5">
        <div class="row gx-4 gx-lg-5 justify-content-center">
            <div class="col-md-10 col-lg-8 col-xl-7">
                <form method="post" action="/update/{{posts.id}}" class="site-heading" enctype="multipart/form-data">
                    <div class="mb-3">
                        <label for="exampleFormControlInput1" class="form-label">Title of the blog</label>
                        <input type="text" class="form-control" name="title" value="{{posts.title}}" id="exampleFormControlInput1"
                            placeholder="">
                    </div>
                    <div class="mb-3">
                        <label for="exampleFormControlInput1" class="form-label">Sub Heading of the blog</label>
                        <input type="text" class="form-control" name="subheading" value="{{posts.subheading}}" id="exampleFormControlInput1"
                            placeholder="">
                    </div>
                    <div class="mb-3">
                        <label for="exampleFormControlInput1" class="form-label">Slug of the blog</label>
                        <input type="text" class="form-control" name="slug" value="{{posts.slug}}" id="exampleFormControlInput1"
                            placeholder="">
                    </div>
                    <div class="mb-3">
                        <img src="static/uploads/{{posts.img_file}}" alt="" id="img" height="150px" width="150px" ;>

                        <input type="file" name="file" id="img_file" value=""  class="btn-sm">

                    </div>
.
                    <div class="mb-3">
                        <label for="exampleFormControlTextarea1" class="form-label">Write Your Blog Here</label>
                        <textarea class="form-control" name="blog" id="exampleFormControlTextarea1" rows="3">{{posts.content}}</textarea>
                    </div>
                    <div class="mb-3">
                        <button type="submit" class="btn btn-dark">Update</button>
                    </div>
                </form>
            </div>
        </div>
    </div>
</header>

<script>
    $(document).ready(() => {
        $("#img_file").change(function () {
            const file = this.files[0];
            if (file) {
                let reader = new FileReader();
                reader.onload = function (event) {
                    $("#img")
                      .attr("src", event.target.result);
                };
                reader.readAsDataURL(file);
            }
        });
    });
</script>

{% endblock body %}